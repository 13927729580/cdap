<div id="modal-from-dom" class="modal hide fade">
	<div class="modal-header">
	<a {{action "canceled" on="click"}} class="close">&times;</a>
	<h2>Remove Flow</h2>
	</div>
	<div class="modal-body">
	<p>You are about to remove a flow, which is irreversible. You can upload this flow again if you'd like. Do you want to proceed?</p>
	</div>
	<div class="modal-footer">
	<button {{action "canceled" on="click"}} class="btn">Cancel</a>
	<button {{action "confirmed" on="click"}} {{bindAttr flow-app="current.meta.app"}} {{bindAttr flow-id="current.meta.name"}} class="btn btn-danger">Okay</a>
	</div>
</div>

<div id="sub-header">
	{{#unless run}}
	<div id="action-buttons" class="btn-group pull-right" style="width:300px;">
	  	<button class="btn dropdown-toggle" data-toggle="dropdown">
			<span class="caret"></span>
		</button>
		<ul class="dropdown-menu">
			<li style="min-width:200px; padding:4px 16px 2px;">
				{{#each current.getMeta}}
					<div><strong>{{k}}</strong>: {{v}}
				{{/each}}
			</li>
			<li class="divider"></li>
			<li><a href="#/upload/new">Upload a New Version</a></li>
			<li><a {{action "delete" on="click"}}>Remove This Flow</a></li>
		</ul>
	  	<button class="btn" style="width:75px;" {{action "exec" on="click"}} {{bindAttr flow-action="current.defaultAction"}} {{bindAttr flow-app="current.meta.app"}} {{bindAttr flow-id="current.meta.name"}}>{{current.defaultAction}}</button>
	  	<button disabled="true" style="width: 100px;" {{bindAttr class="current.defaultActionClass"}}>{{current.currentState}}</button>
	</div>
	{{/unless}}
	<h2 id="content-header">{{current.meta.name}} <span>Flow</span></h2>
	<ul class="breadcrumb">
		<li><a href="#"><i class="icon-home" /> </a><a href="#">All Flows</a> <span class="divider">/</span></li>
		{{#if run}}
			<li><a {{bindAttr href="current.href"}}>{{current.meta.name}}</a></li>
			<span class="divider">/</span></li>
			<li class="selected">Run</li>
		{{else}}
			<li class="selected">{{current.meta.name}}</li>
		{{/if}}
		<li class="pull-right">Displaying {{App.Controllers.Flow.content.length}} flowlets.</li>
	</ul>
	<div id="flow-alert" class="alert alert-error" style="display: none;"></div>
	<div id="run-info" class="alert alert-info">
	</div>
</div>

<div id="flowviz-container" class="well">
	<div id="flowviz" class="clearfix"></div>
</div>

<div id="object-list">
	{{#if history.length}}
	<table class="table table-condensed">
		<thead>
			<tr><th style="width: 215px;">Started</th>
			<th>Ended</th>
			<th style="width:250px;">Result</th>
		</tr></thead>
		{{#each history tagName="tbody"}}
			<tr style="cursor: pointer;" {{action "loadRun" on="click"}} {{bindAttr href="href"}}>
				<td>{{started}}</td>
				<td>{{ended}}</td>
				<td>{{detail}}</td>
			</tr>
		{{/each}}
	</table>
	{{else}}
	<div class="object-list-empty">
		This flow has not completed a run yet.
	</div>
	{{/if}}
</div>