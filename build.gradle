apply plugin: 'continuuity'

buildscript {
    apply from: 'continuuity.gradle'
}

def continuuityVersion = '0.1.0-SNAPSHOT'

dependencies {

    /// Internal dependencies.
    if(multiModule && ! buildingRelease)
    {
        compile project(":common")
        compile project(":data-fabric")
        compile project(":data-fabric").sourceSets.api.output
        compile project(":gateway")
    }
    else
    {
        compile group: 'com.continuuity', name: 'common', version: "${continuuityVersion}"
        compile group: 'com.continuuity', name: 'data-fabric', version: "${continuuityVersion}"
        compile group: 'com.continuuity', name: 'data-fabric', classifier: 'api', version: "${continuuityVersion}", changing: true
        compile group: 'com.continuuity', name: 'gateway', version: "${continuuityVersion}"
    }

    clover group: 'com.continuuity', name: 'data-fabric', classifier: 'api', version: "${continuuityVersion}"

    testCompile('org.apache.hbase:hbase:0.94.2.1.3.4.continuuity:tests') { exclude module: 'junit' }
    testCompile('org.apache.hadoop:hadoop-minicluster:2.0.0-alpha')
}

/**
 * Exclude any config xml from jar
 */
jar.exclude '*.xml'