apply plugin: 'continuuity'

buildscript {
    apply from: 'continuuity.gradle'
}

/*
tasks.withType(Compile) { 
    options.compilerArgs << "-Xlint:unchecked"
} 
*/

/**
 * Specify all the dependencies
 */
dependencies {
    compile group: 'com.typesafe.akka', name: 'akka-actor', version: '2.0.1'
    compile group: 'com.google.guava', name: 'guava', version: '12.+'
    compile group: 'com.netflix.curator', name: 'curator-framework', version: '1.1.+'
    compile group: 'com.netflix.curator', name: 'curator-client', version: '1.1.+'
    compile group: 'com.netflix.curator', name: 'curator-x-discovery', version: '1.1.+'
    compile group: 'com.google.code.gson', name: 'gson', version: '2.1'
    compile group: 'com.google.inject', name: 'guice', version: '3.0-rc3'

    /** All hadoop related dependencies */
    compile group: 'org.apache.hadoop', name: 'hadoop-hdfs', version:'2.0.0-alpha'
    compile group: 'org.apache.hadoop', name: 'hadoop-annotations', version:'2.0.0-alpha'
    compile group: 'org.apache.hadoop', name: 'hadoop-common', version:'2.0.0-alpha'
    compile group: 'org.apache.hadoop', name: 'hadoop-yarn-common', version:'2.0.0-alpha'
    compile group: 'org.apache.hadoop', name: 'hadoop-yarn-api', version:'2.0.0-alpha'
    testCompile group: 'org.apache.hadoop', name: 'hadoop-minicluster', version:'2.0.0-alpha'
}

/**
 * Create Release TAR ball
 */
task dist(type:  Tar, dependsOn: jar) {
    group = 'Continuuity'
    description = 'Generates distribution tar file.'
    from('bin') {
        into('common/bin')
    }
}
