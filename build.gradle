apply plugin: 'continuuity'

/**
 * Add continuuity plugin to the classpath.
 */
buildscript {
   apply from: 'continuuity.gradle'
}

test {
	testLogging.showStandardStreams = false
	jvmArgs '-Xmx512m'
	
	beforeTest { descriptor ->
		logger.lifecycle("Running test: " + descriptor)
	}
	onOutput { descriptor, event ->
//		logger.lifecycle("Test: " + descriptor + " produced standard out/err: " + event.message)
	}
}

dependencies {
    /// Internal dependencies.
    if(multiModule)
    {
        compile project(":common")
    }
    else
    {
        compile group: 'com.continuuity', name: 'common', version: '0.1.0-SNAPSHOT'
    }
    // Self dependencies.
    compile sourceSets.api.output
    
    /// External dependencies.
    compile group: 'org.apache.hbase', name: 'hbase', version: '0.94.1-SNAPSHOT', classifier: 'continuuity'
    compile group: 'org.apache.hadoop', name: 'hadoop-core', version: '1.0.2'
    testCompile group: 'org.apache.hbase', name: 'hbase', version: '0.94.1-SNAPSHOT', classifier: 'continuuity-tests'
    compile group: 'org.apache.hadoop', name: 'hadoop-test', version: '1.0.2'
}

artifacts {
  archives apiJavadocJar
  archives apiJar
}
