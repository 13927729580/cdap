apply plugin: 'continuuity'

// Declare the git repos that will comprise the master build.
def gitRepos = []
import com.continuuity.gradle.GitRepo;
gitRepos << new GitRepo(name: "common");
gitRepos << new GitRepo(name: "data-fabric");
gitRepos << new GitRepo(name: "flow");

defaultTasks 'gitClone', 'build'

task gitClone << {
    for (g in gitRepos) {
        g.load();
    }
}

task gitPull << {
    for (g in gitRepos) {
        g.pull();
    }
}

task gitStatus << {
    for (g in gitRepos) {
        g.status();
    }
}

subprojects {
    task sync << {
        copy {
            from "$rootDir/buildSrc/src/main/resources/com/continuuity/gradle/continuuity.gradle"
            into projectDir
        }
    }
}




