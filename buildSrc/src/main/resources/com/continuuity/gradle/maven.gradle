// The contents of this file applies to all sub-projects.
apply plugin: 'maven'

uploadArchives {
    repositories {
        repositories.mavenDeployer {
            repository(url: "http://nexus.continuuity.com:8081/nexus/content/repositories/releases") {
                authentication(userName: nexusUsername, password: nexusPassword)
            }
            snapshotRepository(url: "http://nexus.continuuity.com:8081/nexus/content/repositories/snapshots") {
                authentication(userName: nexusUsername, password: nexusPassword)
            }
            pom.version = version
            pom.artifactId = artifactId
            pom.groupId = groupId
        }
    }
}

configure(install.repositories.mavenInstaller) {
    pom.version = version
    pom.artifactId = artifactId
    pom.groupId = groupId
}

install {
    group = 'Upload'
    repositories.mavenInstaller {
        pom.version = version
        pom.artifactId = artifactId
        pom.groupId = groupId
    }
}


