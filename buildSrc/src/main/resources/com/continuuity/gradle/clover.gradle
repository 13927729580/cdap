// Configures clover for monitoring code coverage.

/// Define common configuration for all projects including the root project.
allprojects
{
    apply plugin: 'clover'

    dependencies {
        clover 'com.cenqua.clover:clover:3.1.3'
    }

    clover
    {
        licenseLocation = 'classpath://com/continuuity/gradle/clover.license'
        // Exclude all generated classes from the test report.
        excludes = ['**/generated/*.java']
        // This makes sure the gradle clover plugin doesn't set the default includeTest path to '**/*Test.java'.
        testIncludes = ['**/*.java']
		if (project.hasProperty('multiModule')) {
			
		} else {
			additionalSourceDirs = sourceSets.api.allSource.srcDirs
		}
        //targetPercentage = '85%'
        report {
            html = true
        }
    }

    task clover (dependsOn: cloverGenerateReport) {
        group = 'Report'
        description = 'Short cut for the cloverGenerateReport task.'
    }



}
