<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<!--
    Copyright (c) to Continuuity Inc. All rights reserved.
-->
<configuration>

    <!--
        Common configuration across all components.
    -->
    <property>
        <name>zookeeper.quorum</name>
        <value>localhost:2181</value>
        <description>Specifies the zookeeper host:port</description>
    </property>

    <property>
        <name>command.port.enabled</name>
        <value>false</value>
        <description>Specifies whether command port should be enabled.</description>
    </property>

    <property>
        <name>thrift.max.read.buffer</name>
        <value>1048576</value>
        <description>
            Specifies the max read buffer size used by
            thrift server. Value should be set to something greater
            than max frame that is sent on RPC channel.
        </description>
    </property>

    <property>
        <name>state.storage.connection.url</name>
        <value>jdbc:hsqldb:file:~/continuuity-data/flow-state-management;user=sa</value>
        <description>
            Specifies the JDBC connection url for connecting to local or
            remote storage for storing flow state, runs and active flows.
        </description>
    </property>

    <!--
        Resource manager configurations.
    -->
    <property>
        <name>resource.manager.server.port</name>
        <value>45000</value>
        <description>Specifies the port on which Flow resource Manager will run.</description>
    </property>

    <property>
        <name>resource.manager.server.threads</name>
        <value>10</value>
        <description>Specifies number of threads to be started for serving requests on flow resource manager</description>
    </property>

    <property>
        <name>resource.manager.remote.dir</name>
        <value>data/resource/manager/remote</value>
        <description>Specifies the base directory for storing resources</description>
    </property>

    <property>
        <name>resource.manager.local.dir</name>
        <value>data/resource/manager/local</value>
        <description>Specifies the base directory for storing resources</description>
    </property>

    <property>
        <name>resource.manager.server.address</name>
        <value>localhost</value>
        <description>Specifies the address to which the resource managerment service should bind to.</description>
    </property>

    <property>
        <name>resource.manager.cloud.hostname</name>
        <value>50.97.203.197</value>
        <description>Specifies the resource manager hostname in cloud.</description>
    </property>

    <property>
        <name>resource.manager.cloud.port</name>
        <value>45000</value>
        <description>Specifies the resource manager port in cloud.</description>
    </property>


    <!--
        Flow Manager configuration.
    -->
    <property>
        <name>flow.manager.server.address</name>
        <value>localhost</value>
        <description>Specifies the address to which the flow manager service should bind to.</description>
    </property>

    <property>
        <name>flow.manager.server.port</name>
        <value>45001</value>
        <description>Specifies the port on which Flow resource Manager will run.</description>
    </property>

    <property>
        <name>flow.manager.server.threads</name>
        <value>10</value>
        <description>Specifies number of threads to be started for serving requests on flow resource manager</description>
    </property>

    <!--
        Gateway configuration
    -->
    <property>
        <name>gateway.hostname</name>
        <value>localhost</value>
        <description>Specifies the hostname on which the Gateway will listen</description>
    </property>

    <property>
        <name>gateway.port</name>
        <value>9999</value>
        <description>Specifies the port on which the Gateway will listen</description>
    </property>

    <property>
        <name>gateway.connectors</name>
        <value>collector.rest,collector.flume,accessor.rest</value>
        <description>Specifies the list of Collectors we will use</description>
    </property>

    <!-- Todd: I'm really unhappy that we have to use so much XML to describe
         the Collectors, but that's 'cos we are using the Hadoop config object -->
    <property>
        <name>accessor.rest.class</name>
        <value>com.continuuity.gateway.accessor.RestAccessor</value>
        <description>Specifies the class for the REST accessor</description>
    </property>

    <property>
        <name>accessor.rest.port</name>
        <value>10002</value>
    </property>

    <property>
        <name>accessor.rest.threads</name>
        <value>20</value>
    </property>

    <property>
        <name>accessor.rest.middle</name>
        <value>/rest-data/</value>
    </property>

    <property>
        <name>collector.rest.class</name>
        <value>com.continuuity.gateway.collector.RestCollector</value>
        <description>Specifies the class for the REST collector</description>
    </property>

    <property>
        <name>collector.rest.port</name>
        <value>10000</value>
    </property>

    <property>
        <name>collector.rest.threads</name>
        <value>20</value>
    </property>

    <property>
        <name>collector.rest.middle</name>
        <value>/rest-stream/</value>
    </property>

    <property>
        <name>collector.flume.class</name>
        <value>com.continuuity.gateway.collector.NettyFlumeCollector</value>
        <description>Specifies the class for the Flume collector</description>
    </property>

    <property>
        <name>collector.flume.port</name>
        <value>10001</value>
    </property>

    <property>
        <name>collector.flume.threads</name>
        <value>20</value>
    </property>

    <!--
        Data Fabric configuration
    -->
    <property>
        <name>data.local.jdbc</name>
        <value>jdbc:hsqldb:file:~/continuuity-data/fabricdb;user=sa</value>
        <description>Specifies local file system implementation</description>
    </property>

    <property>
        <name>hbase.zookeeper.quorum</name>
        <value>localhost</value>
        <description>Specifies the zookeeper ensemble for hbase,
            as a comma-separated list of host:port,...</description>
    </property>

    <property>
        <name>hbase.zookeeper.property.clientPort</name>
        <value>62982</value>
        <description>Specifies the zookeeper ensemble for hbase,
            as a comma-separated list of host:port,...</description>
    </property>

    <property>
        <name>data.opex.server.port</name>
        <value>15165</value>
        <description>The port number for the operation executor
            service</description>
    </property>

    <property>
        <name>data.opex.server.address</name>
        <value>0.0.0.0</value>
        <description>The inet address for the operation executor
            service</description>
    </property>

    <property>
        <name>data.opex.server.threads</name>
        <value>25</value>
        <description>The number of threads for the operation executor
            service</description>
    </property>

    <property>
        <name>data.opex.client.count</name>
        <value>5</value>
        <description>The number of pooled instanced of the operation
            executor client</description>
    </property>

    <property>
        <name>data.opex.client.provider</name>
        <!-- value>pool</value -->
        <value>thread-local</value>
        <description>The provider strategy for operation executor clients.
            Valid values are "pool" and "thread-local". </description>
    </property>

    <!--
        Overlord Metrics & Other overlord related configuration.
    -->
    <property>
        <name>overlord.metrics.collection.server.address</name>
        <value>localhost</value>
        <description>Specifies the server address for metrics
            collection server.</description>
    </property>

    <property>
        <name>overlord.metrics.collection.server.port</name>
        <value>45003</value>
        <description>Specifies the port on which metrics collection
            server will run on.</description>
    </property>

    <property>
        <name>ovelord.metrics.server.opentsdb.enabled</name>
        <value>false</value>
        <description>Specifies whether opentsdb for metric storage is
            enabled or no.</description>
    </property>

    <property>
        <name>overlord.metrics.frontend.server.address</name>
        <value>localhost</value>
        <description>Specifies the server address of metrics frontend
            server</description>
    </property>

    <property>
        <name>overlord.metrics.frontend.server.port</name>
        <value>45002</value>
        <description>Specifies the port on which frontend metrics server
            is started on</description>
    </property>

    <property>
        <name>overlord.metrics.connection.url</name>
        <value>jdbc:hsqldb:file:~/continuuity-data/metricsdb?user=sa</value>
        <description>Specifies the connection string where metrics are stored
            </description>
    </property>

    <property>
        <name>overlord.metrics.processor.plugins.flowsystem</name>
        <value>com.continuuity.metrics2.collector.server.plugins.FlowMetricsProcessor</value>
        <description>Specifies plugins to be used for processing flow system metrics. </description>
    </property>

    <property>
        <name>overlord.metrics.processor.plugins.flowuser</name>
        <value>com.continuuity.metrics2.collector.server.plugins.FlowMetricsProcessor</value>
        <description>Specifies plugins to be used for processing flow user metrics. </description>
    </property>

    <property>
        <name>opentsdb.server.address</name>
        <value>localhost</value>
        <description>Specifies the open TSDB server address.</description>
    </property>

    <property>
        <name>opentsdb.server.port</name>
        <value>4242</value>
        <description>Specifies the port on which opentsdb will run.</description>
    </property>

    <property>
        <name>overlord.metrics.timeseries.metrics</name>
        <value>processed.count,tuples.read.count</value>
        <description>Specifies a comma seperate list of metrics that
        need to be added to timeseries</description>
    </property>

    <!--
      Librato plugin configuration
    -->
    <property>
        <name>librato.account.name</name>
        <value>nitin@continuuity.com</value>
        <description>Specifies the account to be used for librato</description>
    </property>

    <property>
        <name>librato.account.token</name>
        <value>6b8ac685e4665f78ba1f8f10b0c509b054fb92f96d711fe8f7505225064f81e1</value>
        <description>Specifies the API token to be used for librato</description>
    </property>

    <property>
        <name>librato.url</name>
        <value>https://metrics-api.librato.com/v1/metrics</value>
        <description>Specifies the url for librato API</description>
    </property>

    <property>
        <name>librato.request.timeout</name>
        <value>5000</value>
        <description>Specifies the request timeout for librato</description>
    </property>

    <!--
        Web UI configuration
    -->
    <property>
        <name>webapp.main</name>
        <value>web-app/server/main.js</value>
        <description>Specifies location of the webapp's main.js file</description>
    </property>




</configuration>
