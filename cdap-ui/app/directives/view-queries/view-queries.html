<!-- <div ng-if="queries.length > 0">
  <h5>Results</h5>
  <div class="panel-container">
    <div class="panel no-margin-top" ng-repeat="query in queries" ng-class="{ 'active': query.isOpen }">
      <div class="panel-heading"  ng-click="fetchResult(query)">
        <span class="fa fa-fw" ng-class="{'fa-caret-down': query.isOpen, 'fa-caret-right': !query.isOpen}"></span>
        {{ query.statement }}
        <span></span>
        <span class="pull-right">
          {{ query.timestamp | amDateFormat:'dddd, MMMM Do YYYY, h:mm:ss a'}}
          <span class="status fa fa-circle" ng-class="{ 'green': query.status === 'FINISHED', 'yellow': query.status === 'RUNNING', 'red': ['RUNNING', 'FINISHED'].indexOf(query.status) === -1 }"></span>
        </span>
      </div>
      <div class="panel-body" ng-if="query.isOpen">
        <div ng-show="responses.request.status === 'FINISHED'">
          <br/>
          <div class="row">
            <div class="col-xs-12">
              <p class="well">{{ responses.request.statement }}</p>
            </div>
          </div>

          <div class="results">
            <div class="row">
              <div class="col-xs-6">
                <h3>Preview</h3>
              </div>

              <div class="col-xs-6 text-right">
              <a
                class="btn btn-default download"
                ng-click="download(responses.request)"
                ng-if="!downloading[responses.request]"
              >
                <i class="fa fa-download"></i>
                <span> Download All </span>
              </a>

              <a class="btn btn-default download"
                ng-if="downloading[responses.request]"
                disabled>
                <i class="fa fa-spinner fa-spin"></i>
                <span>Downloading</span>
              </a>
            </div>

            </div>
            <div class="table-responsive">
              <table class="table table-curved table-explore">

                <thead>
                  <tr>
                    <th ng-repeat="header in responses.schema">{{ header.name }}</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="results in responses.results">
                    <td ng-repeat="result in results.columns track by $index">
                      <span ng-if="result !== null">{{ result }}</span>
                      <span ng-if="result === null">null</span>
                    </td>
                  </tr>
                  <tr class="text-center" ng-if="responses.results.length === 0">
                    <td colspan="{{ responses.schema.length }}">No Result</td>
                  </tr>
                </tbody>
              </table>
            </div>

          </div>

        </div>
      </div>

    </div>

  </div>
</div> -->

<div ng-if="queries.length > 0">
  <h5>Results</h5>
  <div class="table-responsive">
    <table class="table table-bordered">
      <thead>
        <th></th>
        <th>Started</th>
        <th>Status</th>
        <th>SQL Query</th>
        <th>Actions</th>
      </thead>

      <tbody>
        <tr ng-repeat="query in queries | orderBy:'':true">
          <td>{{ $index + 1 }}</td>
          <td>{{ query.timestamp | amDateFormat:'MM/DD/YYYY  h:mm:ss a'}}</td>
          <td>{{ query.status }}</td>
          <td>{{ query.statement }}</td>
          <td>
            <div class="btn-group">
              <button class="btn btn-default" ng-click="download(query)" ng-disabled="query.downloading">
                <i class="fa"
                  ng-class="{ 'fa-download': !query.downloading, 'fa-spinner fa-spin': query.downloading }">
                </i>
              </button>
              <button class="btn btn-default"
                ng-click="preview(query)"
                ng-disabled="!query.is_active || query.status !== 'FINISHED'">
                <i class="fa fa-eye"></i>
              </button>
              <button class="btn btn-default" ng-click="clone(query)">
                <i class="fa fa-files-o"></i>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
